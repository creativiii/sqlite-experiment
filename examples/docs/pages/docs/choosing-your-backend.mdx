---
name: Choosing your backend
---

<Note>

At the moment Meow only supports Github as a backend, but other Git providers are planned for the future. Sorry! ðŸ˜º

</Note>

# Choosing your backend

In Meow terms a backend is the git provider you'll save your content to. Github, Gitlab, Bitbucket, etc. all have public APIs that all work slightly differently which requires completely new implementations on our side.

Each time you save a piece of content or upload media, Meow will use your provider's API to sync the changes to your git provider. Think of it as setting up a database and an API, but without the hassle.

## Setting up Github as your backend

If you've been following along with the documentation, your Meow config should look something like this right now:

```tsx
const CMS = () => (
  <NextCMS
    {
      ...{
        // your settings will go here!
      }
    }
  />
)
```

Your configuration should follow this shape:

```tsx
const CMS = () => (
  <NextCMS
    {...{
      settings: {
        backend: {
          name: 'github',
          repo: '{your github username}/{your repo name}',
          branch: 'main', // the branch you want to edit, usually main or master
          base_url: 'https://mysite.com/', // the root address of your site
          auth_endpoint: 'api/auth', // where your auth endpoint is located
        },
      },
    }}
  />
)
```

### Getting your oAuth secrets

Meow leaves the authentication up to you, which means you need to set up an oAuth endpoint that will set a cookie to allow you to access your repo. First of all you'll need to create a new oAuth application and get your secret tokens. Go to [your Github settings](https://github.com/settings/profile) and follow along with the video.

<Video src="/images/screen-recording-2023-03-11-at-135222.mov" />

Then you'll want to add both of these secrets to your `.env` file:

```
OAUTH_GITHUB_CLIENT_ID={your github client id}
OAUTH_GITHUB_CLIENT_SECRET={your github client secret}
```

### Create your endpoints

<Note>

The endpoints here are specific to Next.js, but the logic should be exactly the same for any other API framework. The only difference will be how you get certain headers.

If you're having trouble [open an issue on Github](https://github.com/creativiii/meow-cms/issues/new) and we'll add it to the docs.

</Note>

First create a config file for your oAuth, this file will tell our endpoints where to login on Github's side.:

```javascript
// lib/config.ts

export const config = (provider: "github") => ({
  client: {
    id: client[provider].id as string,
    secret: client[provider].secret as string,
  },
  auth: {
    tokenHost: auth[provider].tokenHost,
    tokenPath: auth[provider].tokenPath,
    authorizePath: auth[provider].authorizePath,
  },
});

const auth = {
  github: {
    tokenHost: "https://github.com",
    tokenPath: "/login/oauth/access_token",
    authorizePath: "/login/oauth/authorize",
  },
};

const client = {
  github: {
    id: process.env.OAUTH_GITHUB_CLIENT_ID,
    secret: process.env.OAUTH_GITHUB_CLIENT_SECRET,
  },
};
```

Then we'll create our endpoints. For this we'll use an external dependency:

```plain
npm install simple-oauth2
```

Then create the auth endpoint, this will generate your Github login link and send you to it:

Then you'll need to set up your callback endpoint, this one will receive the token from Github and send it back to Meow:

Once these two endpoints are in place you should be able to visit your CMS page
