import { createAppAuth } from '@octokit/auth-app'
import crypto, { randomBytes } from 'crypto'

const randomString = () => randomBytes(4).toString('hex')

const GITHUB_APP_ID = '998490'
const GITHUB_APP_PRIVATE_KEY = `-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEApFIZFyRx0445KUDJM5LjFUg60HVKn8IdBt7aVL0hz1FrJER/
7RTnBbjds99ONxwV+BkuMDA0dLn2OtTgZn87EhZ7grw8WNayyCrENhYDUBpsCU1F
hw5SUOfJqg6q5yrW5UkfjezVPfnPhAy03O4A3YQWpmoFHnTUEEbT35tkUz7LkgEA
1XenIlLGyMN1om7K9/Y7g0RmDgvA6JXGMleR8ZE93DzT5G8fryz+WnhsKCtx6Mz5
+6I+Eh/W77uDWzfRPCia/rkT+woL6jvvyUhxxNV7oUIXWbsVMPuZwhsD2ousluxk
4cDFyHvVOHhDyX10Fwl7VUtkGaZ0H87u8wHFRQIDAQABAoIBAAo0ZwZ+5urCfF5J
fbVMO/oIYE6t2hKN1Yulr11v2XeskMDR2Df7AlXiozIWfh8CCYM83Rd1Buzw14/T
xJPY9uwqpUT7N6w0uSmhLkpFl7MT0P3K5LR8eTQ5ENcUzhxJFstqfSEtQhj1OKP0
vg6yYS9gkp+HGgZILxtLqsDKP7LDrBlUWcYZs8KSsPTDw9ycvkLpqvHQahsi3Nrf
wguXaHmIx36mDfelBRPqP1KyEy6G5J8+gZK7AjbcLHXVHjbQy6ujgKJHoWvG3gsh
OSaXlN5hjj7cKLmHYYkdoCB1MYDgsn72o6tMQrGK1kxLpKjm5lFK8ODhmCIKN80p
ZlJSkIECgYEA0h1SVzf26kWMY6X1zTNkX2BX68R9JBiJuL5TnXj130CTrap2q+OJ
f8A9HASMWj99/gngaLnn3taLkla/ItC0VAYhlUl7kWfW6/hrFu+Er1BBPeEf9eVK
iYN+6TqfHHja4wOLtKwXeqVcU83iy2pTx/9VsV29raklHgXgdLlGKpUCgYEAyDSf
Xx04qfmuI0O3mpJ6U3Xoqtsfkr/7jceYBYqedFygaFovCJKip4xae8AiS/1t+lc+
CI/P8y4YJcbNk77IRTQREawqiIZZoWQ2eYHJE7k9Bf7hn0XjNPikPOpHUo62vUTO
2RkcBbV0zpXcvOXLf4w9BjxV64yped351PGYM/ECgYB7CdKS4mHDs/BO1ftHK2YG
d9tkY45IWdokBcfe+ds43Y7c7mpJo5d76K2gP4WUv4NfBJeVm++MzSO0EPoiQAap
AWIfEoW6kw0G51SGfMG9C4j43GCj1J4+QnNJzhsoSBkdQJFJvlCNcFHNfU3mgiAH
iJy8nUEadWcX2qciku/ktQKBgGO8E0jGvduvTliy+1w9bEL3khjLYEcy7JYMwGbC
T32YRzC0/IlAw1bETK8pX+yLK6Zyn6yUN/vlEpJ/HxpjCFGxRm+PXQD2LOCBk8Gk
Lg9tUEEUYEGAB1f0JZ1S+ITgI5jWFlWAdL1DUBU6AuT3dRDtQ9k/ZW4afLMBKdwz
HqeBAoGBALjuQYhjj3UxSeAX/acdlTTukQjKy61RkVPvwEAWaDIzBfa4RRQLERFA
DRCW7awyj6lmZZbb6YgksqkBGYvNYqGafegykw06bBCeopg6dcB1ISrfKkPjZj0x
s7skn+7COr7RsTcK7AoK63CabuMCZ2ZohOQDtlvgGXX8X0HDFhmu
-----END RSA PRIVATE KEY-----
`
export const GITHUB_CLIENT_ID = 'Iv23lifuSYq0bXAf9NCC'
const GITHUB_CLIENT_SECRET = '8a80e908f0514b29e12e3882debe6c92014a2dfc'

export const auth = createAppAuth({
  appId: GITHUB_APP_ID,
  privateKey: GITHUB_APP_PRIVATE_KEY,
  clientId: GITHUB_CLIENT_ID,
  clientSecret: GITHUB_CLIENT_SECRET,
})
